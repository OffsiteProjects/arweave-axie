(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"1a7H":function(e,t,n){(function(t){const r=n("D+ts"),o="aes-256-ctr";e.exports=function(e){if(!e||"string"!==typeof e)throw new Error("Cryptr: secret must be a non-0-length string");const n=r.createHash("sha256").update(String(e)).digest();this.encrypt=function(e){if(null==e)throw new Error("value must not be null or undefined");const t=r.randomBytes(16),i=r.createCipheriv(o,n,t),a=i.update(String(e),"utf8","hex")+i.final("hex");return t.toString("hex")+a},this.decrypt=function(e){if(null==e)throw new Error("value must not be null or undefined");const i=String(e),a=t.from(i.slice(0,32),"hex"),c=i.slice(32);let u,s=!1;try{u=r.createDecipheriv(o,n,a)}catch(p){if("Invalid IV length"!==p.message)throw p;s=!0}if(!s)return u.update(c,"hex","utf8")+u.final("utf8");const l=i.slice(0,16),f=i.slice(16);return u=r.createDecipheriv(o,n,l),u.update(f,"hex","utf8")+u.final("utf8")}}}).call(this,n("+ZX+").Buffer)},BsOi:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("QBSY"),o=n("ysqo"),i=n.n(o),a=n("jvFD"),c=n.n(a),u=n("ERkP"),s=n.n(u).a.createElement,l=function(e){var t=e.children,n=e.onClose,o=e.open;return s(r.Dialog,{open:o,dismissable:!1,onClose:n,title:"Transaction Submitted"},s(i.a,null,s("link",{href:"/static/css/transaction-submission-dialog.css",rel:"stylesheet"})),t,s("div",{className:"mt-24 w-full flex flex-col-reverse sm:flex-row"},s("div",{className:"flex-1 mr-0 sm:mr-8"},s(r.Button,{onClick:e.onClose,fullWidth:!0},"Close")),s(c.a,{as:"/profile/activity",href:"/profile/activity"},s("a",{rel:"noopener noreferrer",className:"flex-1 mt-8 sm:mt-0"},s(r.Button,{intent:r.IntentType.Primary,fullWidth:!0},"Go to my activity")))))}},CLPb:function(e,t,n){"use strict";var r=n("ysci"),o=n.n(r);var i=n("vQkp");function a(e){return function(e){if(o()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return a}))},IdhJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Dlp7"),o=n("1U1M"),i=n("8GAN"),a=function(){var e=Object(o.c)(i.a),t=Object(r.a)(e,1)[0];return{logActivity:function(e,n){return t({variables:{action:e,data:n}})}}}},QtYO:function(e,t,n){"use strict";var r=n("CLPb"),o=n("aA+m"),i=n.n(o),a=n("ERkP"),c=n.n(a),u=n("wk2l"),s=c.a.createElement,l=function(e){var t=e,n=t.children,r=t.value,o=Object(u.a)(t,["children","value"]);return s("div",null,o.currentStep===r?n(o):null)},f=function(e){return void 0!==e&&null!==e&&e.type===l};n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l}));var p=c.a.createElement,d=function(e){var t=e.children,n=e.initialStep,o=e.onChange,u=Object(a.useState)(i()(n,0)),s=u[0],l=u[1],d=e.currentStep&&o?e.currentStep:s,m=c.a.Children.toArray(t).filter(f).map((function(e){return e.props.value})),v=Math.min.apply(Math,Object(r.a)(m)),b=Math.max.apply(Math,Object(r.a)(m)),h=function(t){var n=Math.min(Math.max(t,v),b);e.currentStep&&o?o(n):l(n)},g={currentStep:d,nextStep:function(){h(d+1)},previousStep:function(){h(d-1)},goToStep:h},y=c.a.Children.map(t,(function(e){return c.a.cloneElement(e,g)}));return p("div",null,y)}},V9db:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v}));var r,o=n("aA+m"),i=n.n(o),a=n("ERkP"),c=n.n(a),u=n("nc4G"),s=n("sgI4"),l=n("QtYO"),f=n("b2Ah"),p=n("BsOi"),d=c.a.createElement;!function(e){e[e.RequirePassword=0]="RequirePassword",e[e.ConfirmAction=1]="ConfirmAction",e[e.Complete=2]="Complete"}(r||(r={}));var m=function(e){var t=e.open,n=e.onClose,o=e.data,m=Object(a.useState)(r.RequirePassword),v=m[0],b=m[1],h=Object(a.useState)(),g=h[0],y=h[1];if(Object(a.useEffect)((function(){null!==Object(u.c)()&&b(r.ConfirmAction)}),[t,o]),!1===t)return d(c.a.Fragment,null);return d(l.b,{currentStep:v,onChange:b},d(l.a,{value:r.RequirePassword},(function(e){var t=e.nextStep;return d(s.a,{open:!0,onClose:n,onComplete:t})})),d(l.a,{value:r.ConfirmAction},(function(e){var r,i=e.nextStep;return d(f.a,{open:t,onClose:n,futureAction:o.action,onComplete:(r=i,function(e){r(),y(e)}),message:o.confirmationMessage,price:o.price})})),d(l.a,{value:r.Complete},(function(){return d(p.a,{txHash:g,onClose:n,open:!0},i()(o.successMessage,"Transaction submitted successfully"))})))},v=function(){var e=Object(a.useState)(!1),t=e[0],n=e[1],r=Object(a.useState)(),o=r[0],i=r[1];return{dialogs:o?d(m,{data:o,open:t,onClose:function(){return n(!1)}}):null,sendLoomTransaction:function(e){i(e),n(!0)}}}},b2Ah:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}));var r=n("k9sC"),o=n.n(r),i=n("QBSY"),a=n("OZ/i"),c=n.n(a),u=n("CZlo"),s=n.n(u),l=n("ERkP"),f=n.n(l),p=n("EY8/"),d=n("Z9/9"),m=f.a.createElement,v=function(e){var t=e.open,n=e.onClose,r=e.futureAction,a=e.onComplete,u=e.price,f=Object(l.useState)(),v=f[0],b=f[1],h=Object(l.useState)(),g=h[0],y=h[1],C=Object(p.b)(),w=C.scopedLoomWeb3,x=C.profile,O=void 0!==g;return m(i.Dialog,{title:"Confirmation",open:t,onClose:n},m("div",{className:"text-gray-1"},e.message),m("div",{className:"mt-24 text-warning-3"},g),m("div",{className:"text-right"},m(i.Button,{intent:O?void 0:i.IntentType.Primary,onClick:O?function(){y(void 0),n()}:function(){var e,t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(b(!0),void 0!==w){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,o.a.awrap(r(w));case 6:e=n.sent,a&&a(e),n.next=19;break;case 10:return n.prev=10,n.t0=n.catch(3),console.error(n.t0),n.next=15,o.a.awrap(Object(d.c)(null===x||void 0===x?void 0:x.addresses.loom));case 15:t=n.sent,!s()(u)&&-1===t.cmp(new c.a(u))&&y("Not enough Loom ETH, top up Loom ETH and try again"),b(!1);case 19:case"end":return n.stop()}}),null,null,[[3,10]])},loading:v},O?"Close":"Confirm")))},b=function(){var e=Object(l.useState)(!1),t=e[0],n=e[1],r=Object(l.useState)(),o=r[0],i=r[1];return{openConfirmationDialog:function(e){n(!0),i(e)},confirmationDialog:m(f.a.Fragment,null,o&&m(v,{open:t,onClose:function(){n(!1),i(void 0)},onComplete:function(e){n(!1),o&&o.onComplete&&o.onComplete(e)},message:o.message,futureAction:o.futureAction,price:o.price}))}}},eV1d:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("wgY5"),o=n.n(r),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.a.now()/1e3-e>86400?o.a.unix(e).format("MMM DD, YYYY".concat(t?" - HH:mm":"")):o.a.unix(e).fromNow()},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return e>0?"".concat(e," ").concat(t).concat(1!==e?n:""):void 0}},qLPI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("OLK/"),o={axieDetail:{href:"/axie/[id]",as:function(e){return"/axie/".concat(e)}},landDetail:{href:"/land/[col]/[row]",as:function(e,t){return"/land/".concat(e,"/").concat(t)}},itemDetail:{href:"/item/[itemAlias]/[tokenId]",as:function(e,t){return"/item/".concat(e,"/").concat(t)}},publicProfile:{href:"/profile/[id]/axie",as:function(e,t){return"/profile/".concat(Object(r.a)(e,t),"/axie")}},axiePublicProfile:{href:"/profile/[id]/axie",as:function(e){return"/profile/".concat(e,"/axie")}},landPublicProfile:{href:"/profile/[id]/land",as:function(e){return"/profile/".concat(e,"/land")}},itemPublicProfile:{href:"/profile/[id]/item",as:function(e){return"/profile/".concat(e,"/item")}},activities:{href:"/profile/activity",as:function(){return"/profile/activity"}},bundleDetail:{href:"/bundle/[listingIndex]",as:function(e){return"/bundle/".concat(e)}},login:{href:"/login",as:function(){return"/login"}}}},sgI4:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));var r=n("k9sC"),o=n.n(r),i=n("Dlp7"),a=n("1U1M"),c=n("QBSY"),u=n("aA+m"),s=n.n(u),l=n("ERkP"),f=n.n(l),p=n("EY8/"),d=n("bDBp"),m=n("nc4G"),v=f.a.createElement,b=n("1a7H"),h=function(t){var n=t.open,r=t.onClose,u=t.onComplete,s=Object(p.b)().constructLoomWeb3,f=Object(l.useState)(""),h=f[0],g=f[1],y=Object(l.useState)(),C=y[0],w=y[1],x=Object(a.b)(d.d,{fetchPolicy:"network-only",onCompleted:function(t){if(t.profile){var n=t.profile.addresses.loom,r=t.profile.encryptedPrivateKey,o=new b(h);if(null===t.profile.encryptedPrivateKey)return void w("It looks like you do not have set up Email & Password.");var i=o.decrypt(r);e.from(i,"base64").toString("base64")===i?(Object(m.d)(i,n),s(),u&&u()):w("Incorrect password. Please try again.")}else w("Oops! Something went wrong.")}}),O=Object(i.a)(x,2),S=O[0],j=O[1].loading;return v(c.Dialog,{title:"Password required",open:n,onClose:r},v("form",{onSubmit:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),0===h.length?w("Password can not be empty."):(w(""),S());case 2:case"end":return t.stop()}}))}},v("div",null,"This action require password, enter your password to continue:"),v("div",{className:"mt-12"},v(c.InputGroup,{autoFocus:!0,fullWidth:!0,type:"password",value:h,onChange:function(e){g(e.currentTarget.value)}})),v("div",{className:"mt-8 text-warning-3"},C),v("div",{className:"mt-24 text-right"},v(c.Button,{loading:j,intent:c.IntentType.Primary},"Submit"))))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(l.useState)(!1),n=t[0],r=t[1],o=Object(l.useState)(),i=o[0],a=o[1],c=function(){r(!1)},u=function(){r(!1),i&&i()};return{requestPrivateKey:function(t){a((function(){return t})),e&&r(!0),void 0!==s()(Object(m.c)(),void 0)?(r(!1),t()):r(!0)},requestPrivateKeyDialog:v(h,{open:n,onClose:c,onComplete:u})}}}).call(this,n("+ZX+").Buffer)},vQkp:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Td7S"),o=n.n(r),i=n("5A7e"),a=n.n(i);function c(e){if(a()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return o()(e)}},wk2l:function(e,t,n){"use strict";var r=n("8k7s"),o=n.n(r),i=n("TPw6"),a=n.n(i);function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,o={},i=a()(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(o.a){var c=o()(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return c}))}}]);