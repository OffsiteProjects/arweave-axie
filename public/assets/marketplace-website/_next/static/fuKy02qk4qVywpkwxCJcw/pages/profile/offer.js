(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"/XES":function(e,t,n){"use strict";var a=n("45mK"),r=n.n(a),i=n("Gozm"),o=n.n(i);function c(e){return(c="function"===typeof o.a&&"symbol"===typeof r.a?function(e){return typeof e}:function(e){return e&&"function"===typeof o.a&&e.constructor===o.a&&e!==o.a.prototype?"symbol":typeof e})(e)}function s(e){return(s="function"===typeof o.a&&"symbol"===c(r.a)?function(e){return c(e)}:function(e){return e&&"function"===typeof o.a&&e.constructor===o.a&&e!==o.a.prototype?"symbol":c(e)})(e)}var l=n("vTWr");function u(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?Object(l.a)(e):t}n.d(t,"a",(function(){return u}))},"4xco":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={Forest:"/static/image/land/forest.png",Savannah:"/static/image/land/savannah.png",Mystic:"/static/image/land/mystic.png",Arctic:"/static/image/land/arctic.png",Genesis:"/static/image/land/genesis.png",Unclaimed:"/static/image/land/unclaimed.png"}},"9TP6":function(e,t,n){var a=n("OBn4"),r=n("nnm9"),i=n("XlL0"),o=a&&1/i(new a([,-0]))[1]==1/0?function(e){return new a(e)}:r;e.exports=o},DuXo:function(e,t){e.exports=function(e,t,n,a){for(var r=e.length,i=n+(a?1:-1);a?i--:++i<r;)if(t(e[i],i,e))return i;return-1}},F1Dd:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/offer",function(){return n("qanZ")}])},Fayl:function(e,t,n){"use strict";var a=n("Tqks"),r=n.n(a),i=n("U9rZ"),o=n.n(i);function c(e,t){return(c=o.a||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}n.d(t,"a",(function(){return s}))},MmJP:function(e,t,n){var a=n("rEAF"),r=n("WTsT");a(a.G+a.F*(parseInt!=r),{parseInt:r})},OfKG:function(e,t,n){var a=n("c7Qd");e.exports=function(e,t){return!!(null==e?0:e.length)&&a(e,t,0)>-1}},WTsT:function(e,t,n){var a=n("vpus").parseInt,r=n("zLCO").trim,i=n("sRB5"),o=/^[-+]?0[xX]/;e.exports=8!==a(i+"08")||22!==a(i+"0x16")?function(e,t){var n=r(String(e),3);return a(n,t>>>0||(o.test(n)?16:10))}:a},ZvEc:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("k9sC"),r=n.n(a),i=n("h7sq"),o=n("tS02"),c=n("/XES"),s=n("ztBH"),l=n("Fayl"),u=n("2Lg3"),f=n.n(u),d=n("7xIC"),m=n.n(d),p=n("ERkP"),v=n.n(p),x=n("nc4G"),g=v.a.createElement,b=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(c.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(l.a)(n,t),Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(x.b)();f()(e)&&"/login"!==m.a.pathname?m.a.push("/login","/login"):f()(e)||"/login"!==window.location.pathname||m.a.push("/profile","/profile/dashboard")}},{key:"render",value:function(){return g(e,this.props)}}],[{key:"getInitialProps",value:function(t){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(n={},"function"!==typeof e.getInitialProps){a.next=5;break}return a.next=4,r.a.awrap(e.getInitialProps(t));case 4:n=a.sent;case 5:return a.abrupt("return",n);case 6:case"end":return a.stop()}}))}}]),n}(v.a.Component)}},c7Qd:function(e,t,n){var a=n("DuXo"),r=n("z9Jh"),i=n("n1QJ");e.exports=function(e,t,n){return t===t?i(e,t,n):a(e,r,n)}},h7sq:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return a}))},hFXx:function(e,t,n){n("MmJP"),e.exports=n("MS8/").parseInt},jLkM:function(e,t,n){var a=n("s+R0");e.exports=function(e){return e&&e.length?a(e):[]}},jjbz:function(e,t,n){},moHI:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("jjbz");var a=n("ERkP"),r=n.n(a).a.createElement,i=function(e){var t=e.size;return r("div",{className:"absolute loading-wrapper"},r("img",{src:"/static/image/puff-loading.png",style:{maxWidth:t},className:"spin"}))}},n1QJ:function(e,t){e.exports=function(e,t,n){for(var a=n-1,r=e.length;++a<r;)if(e[a]===t)return a;return-1}},nnm9:function(e,t){e.exports=function(){}},o9XM:function(e,t,n){e.exports=n("hFXx")},"pE/j":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("aA+m"),r=n.n(a),i=n("ysqo"),o=n.n(i),c=n("ERkP"),s=n.n(c).a.createElement,l=function(e){var t=e.title,n=e.description,a=e.banner,i=e.children,c=r()(t,"Axie Marketplace"),l=r()(n,"Buy, sell and explore Axie Infinity in-game collectibles."),u=r()(a,"https://storage.googleapis.com/axie-cdn/banner.png");return s(o.a,null,i,s("title",null,c),s("meta",{name:"twitter:card",content:"summary"}),s("meta",{property:"og:site_name",content:"Axie Infinity Marketplace"}),s("meta",{name:"og:image",content:u}),s("meta",{property:"og:title",content:c}),s("meta",{name:"og:description",content:l}),s("meta",{property:"og:site_name",content:"Axie Infinity Marketplace"}))}},qanZ:function(e,t,n){"use strict";n.r(t);var a=n("ERkP"),r=n.n(a),i=n("pE/j"),o=n("X60O"),c=n("riDH"),s=n("1U1M"),l=n("O94r"),u=n.n(l),f=n("jLkM"),d=n.n(f),m=n("bDBp"),p=n("moHI"),v=n("k9sC"),x=n.n(v),g=n("o9XM"),b=n.n(g),y=n("QBSY"),h=n("OZ/i"),w=n.n(h),N=n("2Lg3"),k=n.n(N),O=n("jvFD"),j=n.n(O),I=n("EY8/"),E=n("Enm2"),A=n("OLK/"),C=n("yIPl"),M=n("xjNf"),T=n("IdhJ"),L=n("V9db"),P=n("qLPI"),R=n("4xco"),D=function(e){var t=e;return!k()(t)&&!k()(t.col)&&!k()(t.row)},H=function(e){return!k()(e.itemAlias)},F=function(e){var t=e;return!D(e)&&!H(e)&&!k()(t.listingIndex)},S=function(e){var t="",n="",a="",r="";return k()(e)||(D(e)&&(t="".concat(e.landType," Plot (").concat(e.col,", ").concat(e.row,")"),n="/land/[col]/[row]",a="/land/".concat(e.col,"/").concat(e.row),r=R.a[e.landType]),H(e)&&(t=e.name?"".concat(e.name," #").concat(e.tokenId):"",n="/item/[itemAlias]/[tokenid]",a="/item/".concat(e.itemAlias,"/").concat(e.tokenId),r=e.figureURL?e.figureURL:""),F(e)&&(t=e.name,n=P.a.bundleDetail.href,a=P.a.bundleDetail.as(b()(e.listingIndex,10)),r="/static/image/bundle.png")),{assetName:t,assetUrl:n,assetHref:a,figureUrl:r}},_=r.a.createElement,X="text-gray-1 text-10 font-bold leading-14 uppercase tracking-1",B=function(e){var t=e.data,n=t.price,a=t.assets,i=t.listingIndex,o=Object(I.b)().profile,c=Object(L.b)(),s=c.dialogs,l=c.sendLoomTransaction,u=Object(T.a)().logActivity,f=e.data.asset||a[0];if(void 0===f)return null;var d,m=S(f),p=m.assetName,v=m.assetUrl,g=m.assetHref,h=m.figureUrl;k()(f.auction)||(d=f.auction.currentPrice);var N=function(){if(k()(o))throw new Error("Profile is undefined.");return{profile:o}},O=function(e){var t,n,a,r,o,c,s,l;return x.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t=N(),n=t.profile,d.next=3,x.a.awrap(e.offerAuctionContract.cancelOffer(new w.a(i)).sendGetTxHash({from:n.addresses.loom,gas:"0"}));case 3:if(a=d.sent,!D(f)){d.next=8;break}return r=f.row,o=f.col,d.next=8,x.a.awrap(u(C.a.CancelLandOffer,{row:r,col:o,txHash:a}));case 8:if(!H(f)){d.next=12;break}return c=f.itemAlias,s=f.tokenId,d.next=12,x.a.awrap(u(C.a.CancelItemOffer,{tokenId:s,itemAlias:c,txHash:a}));case 12:if(!F(f)){d.next=16;break}return l=f.listingIndex,d.next=16,x.a.awrap(u(C.a.CancelBundleOffer,{listingIndex:b()(l,10),txHash:a}));case 16:return d.abrupt("return",a);case 17:case"end":return d.stop()}}))};return _(r.a.Fragment,null,s,_("div",{className:"w-full py-16 px-20 bg-gray-4 border border-gray-3 xl:flex xl:items-center xl:justify-between",style:{borderRadius:12}},_("div",{className:"flex items-center",style:{width:250}},_("div",{className:"w-40 sm:w-full mr-12",style:{maxWidth:72}},_("img",{className:"mx-auto w-auto h-auto",src:h,style:{maxHeight:50}})),_("div",{className:"truncate w-full"},_(j.a,{href:v,as:g},_("a",{className:"hover:underline cursor:pointer"},p)),_("div",{className:"text-gray-2 text-12 leading-16 truncate"},f.owner&&Object(A.a)(E.a.Loom,f.owner)))),_("div",{className:"flex items-center mt-24 xl:mt-0"},_("div",{style:{width:150}},_("div",{className:X},"Current price"),_("div",{className:"text-16 leading-22"},void 0!==d?_(r.a.Fragment,null,Object(M.b)(d),"\xa0",_("span",{className:"text-gray-2 leading-22 text-12"},"ETH")):"Not on auction")),_("div",{style:{width:150}},_("div",{className:X},"Your offer"),_("div",{className:"text-16 leading-22"},Object(M.b)(n),"\xa0",_("span",{className:"text-gray-2 leading-22 text-12"},"ETH")))),_("div",{className:"mt-20 xl:mt-0"},_(y.Button,{onClick:function(e){e.preventDefault(),l({action:O,confirmationMessage:"Are you sure to cancel this offer?",successMessage:"Transaction submitted successfully"})},intent:y.IntentType.Danger},"Cancel offer"))))},U=n("2ewA"),W=n("Z9/9"),z=n("eV1d"),J=n("MVkm"),Z=r.a.createElement;function G(){var e=Object(U.a)(["You are accepting this "," ETH offer."]);return G=function(){return e},e}var q,Q=function(e){var t=e.data,n=t.price,r=t.offerer,i=t.createdAt,o=Object(a.useState)(),c=o[0],s=o[1],l=Object(a.useState)(!1),u=l[0],f=l[1],d=!!c&&c.cmp(new w.a(n))<0;return Object(a.useEffect)((function(){!function(){var e;x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=1,t.next=4,x.a.awrap(W.e.loomWethContract.balanceOf(r.addresses.loom).call());case 4:e=t.sent,s(e),f(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),f(!1),console.error(t.t0);case 13:case"end":return t.stop()}}),null,null,[[1,9]])}()}),[]),Z("div",{className:"block sm:flex items-center justify-between w-full"},Z("div",{className:"block truncate",style:{maxWidth:285}},Z("div",{className:"w-full flex items-center"},r.name,"\xa0",Z("div",{className:"inline-block text-gray-2 truncate"},"(",Object(A.a)(E.a.Loom,r.addresses.loom),")")),Z("div",{className:"text-gray-2 text-12 mt-4"},Object(z.b)(i))),Z("div",{className:"mt-12 xl:mt-0",style:{width:150}},Z("span",null,Object(M.b)(n)," \xa0"),Z("span",{className:"text-12 leading-22 text-gray-2"},"ETH")),Z("div",{className:"mt-16 xl:mt-0"},Z(y.Popover,{position:"top",target:function(t){return Z("div",{onMouseOver:d?t:void 0},Z(y.Button,{loading:u,disabled:void 0!==c&&d,intent:y.IntentType.Primary,onClick:e.onClickAccept},"Accept"))}},(function(){return Z("div",{className:"bg-gray-6 p-4 rounded",style:{width:150}},"Offerer does not have enough fund")}))))},Y=function(e){var t=e.data[0].assets,n=1===e.data.length,i=Object(a.useState)(n),o=i[0],c=i[1],s=e.data[0].asset||t[0],l=S(s),f=l.assetName,d=l.figureUrl,m=l.assetUrl,p=l.assetHref,v=Object(L.b)(),g=v.dialogs,b=v.sendLoomTransaction,h=Object(I.b)(),N=h.profile,O=h.scopedLoomWeb3,E=Object(W.g)(),A=E.checkLandApproval,C=E.checkItemApproval;if(void 0===e.data[0]||void 0===s||null===e.data[0].asset&&e.data[0].assets.length>1)return null;var T,P=function(){if(k()(N))throw new Error("Account is not logged in.");return{profile:N,scopedLoomWeb3:O}},R=function(e,t,n){return function(a){var r,i,o;return x.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=P(),i=r.profile,c.next=3,x.a.awrap(A());case 3:return c.next=5,x.a.awrap(C());case 5:return c.next=7,x.a.awrap(a.offerAuctionContract.acceptOffer(e,new w.a(t),new w.a(n)).sendGetTxHash({from:i.addresses.loom,gas:"0"}));case 7:return o=c.sent,c.abrupt("return",o);case 9:case"end":return c.stop()}}))}};k()(s.auction)||(T=s.auction.currentPrice);return Z(r.a.Fragment,null,g,Z("div",{className:"w-full bg-gray-4 border border-gray-3",style:{borderRadius:12}},Z("div",{className:u()("flex items-center w-full py-16 px-20 xl:px-24 justify-between",{"cursor-pointer":!n}),onClick:function(e){e.preventDefault(),n||c(!o)}},Z("div",{className:"flex items-center",style:{width:285}},Z("img",{style:{maxWidth:72,maxHeight:72},className:"mr-12 sm:mr-24 w-auto h-auto",src:d}),Z("div",{className:"flex items-center text-14 sm:text-16"},Z(j.a,{as:p,href:m},Z("a",{className:"hover:underline cursor:pointer"},f)))),Z("div",{style:{width:150},className:"hidden sm:block"},Z("div",{className:"mt-12 xl:mt-0 text-gray-1 font-bold text-10 leading-14 uppercase text-left tracking-1"},Z("div",null,"Current price")),Z("div",null,T?Z(r.a.Fragment,null,Z("span",null,Object(M.b)(T)," \xa0"),Z("span",{className:"text-12 leading-22 text-gray-2"},"ETH")):Z("span",{className:"text-gray-2"},"Not for sale"))),Z("div",{style:{minWidth:82}},!n&&Z("div",{className:"flex items-center"},Z("div",{className:"mr-8 sm:mr-12"},Z(y.Icon,{name:J.g,color:"currentColor"})),Z("span",null,e.data.length," offers")))),Z("div",{className:"overflow-hidden",style:{height:o?"100%":0}},Z("ul",{className:"border-t border-gray-3"},e.data.map((function(e,t){return Z("li",{key:t,className:u()("py-16 px-24 border-gray-3",{"border-t":0!==t})},Z(Q,{data:e,onClickAccept:(n=e,function(e){e.preventDefault();var t=n.offerer,a=n.listingIndex,r=n.price;b({action:R(t.addresses.loom,a,r),confirmationMessage:Object(M.a)(G(),r),successMessage:"Transaction submitted successfully."})})}));var n}))))))},V=r.a.createElement,K=function(e){return V("div",{onClick:e.onClick,style:{width:120},className:u()("pt-20 pb-16 px-12 cursor-pointer text-center",{"font-bold text-color-white border-b-4 border-primary-3":e.isActive,"text-gray-1":!e.isActive})},e.children)},$=function(e){var t=e.data,n=d()(t.map((function(e){return e.listingIndex}))),a=[];return n.forEach((function(e){var n=t.filter((function(t){return t.listingIndex===e}));a.push(n)})),V("div",null,a.map((function(e,t){return V("div",{className:"mb-12",key:t},V(Y,{data:e}))})))};!function(e){e[e.Received=0]="Received",e[e.Made=1]="Made"}(q||(q={}));var ee=function(){var e=Object(s.d)(m.b),t=e.data,n=e.loading,r=Object(a.useState)(q.Received),i=r[0],o=r[1],c=0,l=0;t&&t.profile&&(c=t.profile.offersMade.length,l=t.profile.offersReceived.length);var u=function(e){return function(t){t.preventDefault(),o(e)}};return V("div",null,V("div",{className:"flex items-start text-12 leading-16 border-b border-gray-3"},V(K,{isActive:i===q.Received,onClick:u(q.Received)},"Received ",l>0?"(".concat(l,")"):""),V(K,{isActive:i===q.Made,onClick:u(q.Made)},"Made ",c>0?"(".concat(c,")"):"")),V("div",null,n&&V("div",{style:{top:"250px"},className:"relative"},V(p.a,null)),t&&t.profile&&t.profile&&V("div",{className:"mt-20 px-16 sm:px-0"},i===q.Received&&V("div",null,V($,{data:t.profile.offersReceived})),i===q.Made&&V("div",null,t.profile.offersMade.map((function(e){return V("div",{key:e.listingIndex,className:"mb-12"},V(B,{data:e}))}))))))},te=n("ZvEc"),ne=r.a.createElement;t.default=Object(te.a)((function(){return ne(r.a.Fragment,null,ne(i.a,{title:"Offers | Axie Infinity"}),ne(o.a,null),ne("div",{style:{height:53}}),ne("div",{className:"flex-1 flex flex-row"},ne(c.a,null),ne("div",{style:{height:"calc(100vh - 53px)"},className:"w-full overflow-y-auto px-0 sm:px-32"},ne(ee,null))))}))},riDH:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("QBSY"),r=n("O94r"),i=n.n(r),o=n("jvFD"),c=n.n(o),s=n("7xIC"),l=n("ERkP"),u=n.n(l),f=n("EY8/"),d=n("MVkm"),m=n("VFD9"),p=n("+ZPu"),v=u.a.createElement,x=[{id:[p.a.ProfileDashboard],name:"Dashboard",link:"/profile/dashboard",icon:d.l},{id:[p.a.AxieInventory,p.a.LandInventory,p.a.ItemInventory],name:"Inventory",link:"/profile/inventory/axie",icon:d.y},{id:[p.a.OfferInventory],name:"Offers",link:"/profile/offer",icon:d.L},{id:[p.a.Activity],name:"Activity",link:"/profile/activity",icon:d.a}],g={width:280},b=function(){var e=Object(l.useState)(!1),t=e[0],n=e[1],r=Object(f.b)().profile,o=Object(p.c)(),u=Object(s.useRouter)(),b=Object(f.c)();return v("div",{className:"hidden md:flex flex-none border-gray-3 border-r",style:g},v(m.a,{open:t,onClose:function(){return n(!1)},dismissable:!0}),v("div",{className:"w-full flex flex-col pt-16 px-16"},v("div",{className:"rounded w-full pt-16 pb-20 px-12 border border-gray-3 text-center"},v("div",{className:"flex justify-center items-center"},v("div",{className:"flex items-center truncate"},r&&v("h4",{className:"mr-4 font-medium truncate h-24"},r.name),v("div",{onClick:function(e){e.preventDefault(),n(!0)},className:"hover:cursor-pointer"},v(a.Icon,{name:d.n,size:16,color:"var(--color-gray-2)"})))),r&&v("small",{className:"block mt-4 text-gray-2 font-medium truncate"},r.email)),v("div",{className:"flex-1 flex flex-col pt-16"},v("div",{className:"flex-1"},x.map((function(e){return v(c.a,{href:e.link,as:e.link,key:e.name},v("a",{className:i()("mt-4","px-16","py-12","rounded","flex","flex-row","items-center","cursor-pointer",{"bg-gray-3":o===e.id.find((function(e){return e===o}))})},v(a.Icon,{name:e.icon,color:"var(--color-white)"}),v("h6",{className:"ml-8 font-medium"},e.name)))}))),v("a",{onClick:function(e){e.preventDefault(),b(),u.push("/login","/login")},className:i()("mt-4","px-16","py-12","flex","flex-row","items-center","cursor-pointer","border-t","border-gray-3","text-danger-4")},v(a.Icon,{name:d.F,color:"currentColor"}),v("h6",{className:"ml-8 font-medium"},"Log out")))))}},"s+R0":function(e,t,n){var a=n("JBn+"),r=n("OfKG"),i=n("sCL+"),o=n("S0iI"),c=n("9TP6"),s=n("XlL0"),l=200;e.exports=function(e,t,n){var u=-1,f=r,d=e.length,m=!0,p=[],v=p;if(n)m=!1,f=i;else if(d>=l){var x=t?null:c(e);if(x)return s(x);m=!1,f=o,v=new a}else v=t?[]:p;e:for(;++u<d;){var g=e[u],b=t?t(g):g;if(g=n||0!==g?g:0,m&&b===b){for(var y=v.length;y--;)if(v[y]===b)continue e;t&&v.push(b),p.push(g)}else f(v,b,n)||(v!==p&&v.push(b),p.push(g))}return p}},"sCL+":function(e,t){e.exports=function(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1}},tS02:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("LcAa"),r=n.n(a);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),r()(e,a.key,a)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},vTWr:function(e,t,n){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return a}))},z9Jh:function(e,t){e.exports=function(e){return e!==e}},ztBH:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("jPfo"),r=n.n(a),i=n("U9rZ"),o=n.n(i);function c(e){return(c=o.a?r.a:function(e){return e.__proto__||r()(e)})(e)}}},[["F1Dd",1,2,15,16,18,17,20,0,3,5,7,6,8,9,11,12,13,14,19,21,4]]]);